;------------------------------------------------
;キャラコピー諸々
;------------------------------------------------
@CHARACROSS(ARG)

ADDCHARA 0

		FOR LOCAL,0,56
		ABL:ARG:LOCAL = ABL:(ARG+1):LOCAL
		NEXT
		
		FOR LOCAL,0,14
		BASE:ARG:LOCAL = BASE:(ARG+1):LOCAL
		NEXT
		
		FOR LOCAL,0,191
		TALENT:ARG:LOCAL = TALENT:(ARG+1):LOCAL
		NEXT
		
		FOR LOCAL,0,94
		EXP:ARG:LOCAL = EXP:(ARG+1):LOCAL
		NEXT
		
		CFLAG:ARG:7 = CFLAG:(ARG+1):7
		
		CFLAG:ARG:298 = CFLAG:(ARG+1):298
		CFLAG:ARG:310 = CFLAG:(ARG+1):310
		CFLAG:ARG:311 = CFLAG:(ARG+1):311
		CFLAG:ARG:312 = CFLAG:(ARG+1):312
		
		NAME:ARG = %NAME:(ARG+1)%
		CALLNAME:ARG = %CALLNAME:(ARG+1)%
		NO:ARG = NO:(ARG+1)
		
		DELCHARA (ARG+1)

RETURN 0	

;------------------------------------------------
@REVERSEMODE_1
#DIM WK_ARG

PRINTL アイドルの誰かとしてプレイします
$INPUT_LOOP
PRINTL 誰になりますか？
FOR COUNT,1, CSVキャラ数
	EXISTCSV COUNT
	IF RESULT==1 
		LOCALS'=CSVNAME(COUNT)
		PRINTFORM [{COUNT}] %LOCALS%
	ENDIF
NEXT
	
INPUT
IF INRANGE(RESULT,1, CSVキャラ数)
	;コピー後にselect_idolと同じ処理を施す
	DELCHARA 0
	MASTER = 0
	TARGET = MASTER
	PLAYER = MASTER
	ADDCHARA RESULT
	CFLAG:0:311=場所_あなたの家
	CFLAG:0:300=CFLAG:0:311
	COUNT=0

CFLAG:COUNT:298=1;行動ぱたーぬ
CFLAG:COUNT:360=1
CFLAG:COUNT:7=2
;念のため掃除
CFLAG:COUNT:16=0
CFLAG:COUNT:21=0
CFLAG:COUNT:22=0
CFLAG:COUNT:23=0
CFLAG:COUNT:24=0
CFLAG:COUNT:25=0

MAXBASE:COUNT:10=1500
MAXBASE:COUNT:11=1000
MAXBASE:COUNT:12=1000
MAXBASE:COUNT:13=1000
BASE:COUNT:10=0
BASE:COUNT:11=000
BASE:COUNT:12=000
BASE:COUNT:13=000
;念のため処女チェック
;オトコ

IF TALENT:COUNT:1122==1
TALENT:COUNT:2=2
TALENT:COUNT:1122=0
ELSE
TALENT:COUNT:2=1
ENDIF
SIF TALENT:COUNT:2==1& EXP:COUNT:1==0
TALENT:COUNT:0=1

;臆病
IF TALENT:COUNT:1010==1
TALENT:COUNT:10=-1
TALENT:COUNT:1010=0
ENDIF
;反抗的
IF TALENT:COUNT:1011==1
TALENT:COUNT:11=1
TALENT:COUNT:1011=0
ENDIF
;気丈
IF TALENT:COUNT:1012==1
TALENT:COUNT:10=1
TALENT:COUNT:1012=0
ENDIF
;素直
IF TALENT:COUNT:1013==1
TALENT:COUNT:11=-1
TALENT:COUNT:1013=0
ENDIF
;おとなしい
IF TALENT:COUNT:1014==1
TALENT:COUNT:12=-1
TALENT:COUNT:1014=0
ENDIF
;プライド高い
IF TALENT:COUNT:1015==1
TALENT:COUNT:13=1
TALENT:COUNT:1015=0
ENDIF
;生意気
IF TALENT:COUNT:1016==1
TALENT:COUNT:12=1
TALENT:COUNT:1016=0
ENDIF
;プライド低い
IF TALENT:COUNT:1017==1
TALENT:COUNT:13=-1
TALENT:COUNT:1017=0
ENDIF
;好奇心
IF TALENT:COUNT:1023==1
TALENT:COUNT:23=1
TALENT:COUNT:1023=0
ENDIF
;保守的
IF TALENT:COUNT:1024==1
TALENT:COUNT:23=-1
TALENT:COUNT:1024=0
ENDIF
;楽観的
IF TALENT:COUNT:1025==1
TALENT:COUNT:24=1
TALENT:COUNT:1025=0
ENDIF
;悲観的
IF TALENT:COUNT:1026==1
TALENT:COUNT:24=-1
TALENT:COUNT:1026=0
ENDIF
;貞操観念
IF TALENT:COUNT:1030==1
TALENT:COUNT:30=1
TALENT:COUNT:1030=0
ENDIF
;貞操無頓着
IF TALENT:COUNT:1031==1
TALENT:COUNT:30=-1
TALENT:COUNT:1031=0
ENDIF
;抑圧
IF TALENT:COUNT:1032==1
TALENT:COUNT:31=-1
TALENT:COUNT:1032=0
ENDIF
;開放
IF TALENT:COUNT:1033==1
TALENT:COUNT:31=1
TALENT:COUNT:1033=0
ENDIF
;恥じらい
IF TALENT:COUNT:1035==1
TALENT:COUNT:33=1
TALENT:COUNT:1035=0
ENDIF
;恥薄い
IF TALENT:COUNT:1036==1
TALENT:COUNT:33=-1
TALENT:COUNT:1036=0
ENDIF
;痛みに弱い
IF TALENT:COUNT:1040==1
TALENT:COUNT:40=1
TALENT:COUNT:1040=0
ENDIF
;痛みに強い
IF TALENT:COUNT:1041==1
TALENT:COUNT:40=-1
TALENT:COUNT:1041=0
ENDIF
;濡れやすい
IF TALENT:COUNT:1042==1
TALENT:COUNT:41=1
TALENT:COUNT:1042=0
ENDIF
;濡れにくい
IF TALENT:COUNT:1043==1
TALENT:COUNT:41=-1
TALENT:COUNT:1043=0
ENDIF
;習得はやい
IF TALENT:COUNT:1050==1
TALENT:COUNT:50=1
TALENT:COUNT:1050=0
ENDIF
;習得遅い
IF TALENT:COUNT:1051==1
TALENT:COUNT:50=-1
TALENT:COUNT:1051=0
ENDIF
;汚臭鈍感
IF TALENT:COUNT:1061==1
TALENT:COUNT:61=1
TALENT:COUNT:1061=0
ENDIF
;汚臭敏感
IF TALENT:COUNT:1062==1
TALENT:COUNT:61=-1
TALENT:COUNT:1062=0
ENDIF
;汚れ無視
IF TALENT:COUNT:1064==1
TALENT:COUNT:61=2
TALENT:COUNT:1064=0
ENDIF
;快感に素直
IF TALENT:COUNT:1070==1
TALENT:COUNT:70=1
TALENT:COUNT:1070=0
ENDIF
;快感の否定
IF TALENT:COUNT:1071==1
TALENT:COUNT:70=-1
TALENT:COUNT:1071=0
ENDIF
;男勝り
IF TALENT:COUNT:1079==1
TALENT:COUNT:81=2
TALENT:COUNT:1079=0
ENDIF
;両刀
IF TALENT:COUNT:1081==1
TALENT:COUNT:81=-1
TALENT:COUNT:1081=0
ENDIF
;男嫌い
IF TALENT:COUNT:1082==1
TALENT:COUNT:81=1
TALENT:COUNT:1082=0
ENDIF
;長身
IF TALENT:COUNT:1099==1
TALENT:COUNT:100=1
TALENT:COUNT:1099=0
ENDIF
;小柄体形
IF TALENT:COUNT:1100==1
TALENT:COUNT:100=-1
TALENT:COUNT:1100=0
ENDIF
;C鈍
IF TALENT:COUNT:1101==1
TALENT:COUNT:101=-1
TALENT:COUNT:1101=0
ENDIF
;C敏
IF TALENT:COUNT:1102==1
TALENT:COUNT:101=1
TALENT:COUNT:1102=0
ENDIF
;V鈍
IF TALENT:COUNT:1103==1
TALENT:COUNT:102=-1
TALENT:COUNT:1103=0
ENDIF
;V敏
IF TALENT:COUNT:1104==1
TALENT:COUNT:102=1
TALENT:COUNT:1104=0
ENDIF
;A鈍
IF TALENT:COUNT:1105==1
TALENT:COUNT:103=-1
TALENT:COUNT:1105=0
ENDIF
;A敏
IF TALENT:COUNT:1106==1
TALENT:COUNT:103=1
TALENT:COUNT:1106=0
ENDIF
;B鈍
IF TALENT:COUNT:1107==1
TALENT:COUNT:104=-1
TALENT:COUNT:1107=0
ENDIF
;B敏
IF TALENT:COUNT:1108==1
TALENT:COUNT:104=1
TALENT:COUNT:1108=0
ENDIF
;貧乳
IF TALENT:COUNT:1109==1
TALENT:COUNT:105=-1
TALENT:COUNT:1109=0
ENDIF
;巨乳
IF TALENT:COUNT:1110==1
TALENT:COUNT:105=1
TALENT:COUNT:1110=0
ENDIF
;回復早い
IF TALENT:COUNT:1111==1
TALENT:COUNT:130=1
TALENT:COUNT:1111=0
ENDIF
;回復遅い
IF TALENT:COUNT:1112==1
TALENT:COUNT:130=-1
TALENT:COUNT:1112=0
ENDIF
;縛乳
IF TALENT:COUNT:1114==1
TALENT:COUNT:105=2
TALENT:COUNT:1114=0
ENDIF
;絶壁
IF TALENT:COUNT:1116==1
TALENT:COUNT:105=-2
TALENT:COUNT:1116=0
ENDIF
ELSE
	PRINTL 入力値が不正です。
	GOTO INPUT_LOOP
ENDIF

;(パッチ)アイドルから娼婦紋をコピーしてしまうので消す
CFLAG:0:41 = 0

RETURN 0
;---------------------------------------	
;素質コピー
;--------------------------------------
@COPY_CUSTOM(ARG)
PRINTL 誰の能力をコピーしますか？

$INPUT_LOOP
FOR LOCAL,0,CHARA_ACTIVE
	IF LOCAL == ARG
		;
	ELSE
	PRINTFORML [{LOCAL}] - %CALLNAME:LOCAL%
	ENDIF
NEXT
PRINTL [99] - やめる
	
INPUT
IF 0 < RESULT && RESULT < 開始時人数
	TARGET = RESULT
	$INPUT_LOOP_1
	PRINTFORML %CALLNAME:ARG%に%CALLNAME:TARGET%の素質をコピーします。よろしいですか？
	PRINTL [0] はい
	PRINTL [1] 考え直す
		INPUT
		IF RESULT == 0
			FOR LOCAL,0,191
			TALENT:ARG:LOCAL = TALENT:TARGET:LOCAL
			NEXT
		PRINTL コピーしました。
		ELSEIF RESULT == 1
			GOTO INPUT_LOOP
		ELSE
			GOTO INPUT_LOOP_1
		ENDIF
			
ELSEIF RESULT == 99
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF

RETURN 0	
